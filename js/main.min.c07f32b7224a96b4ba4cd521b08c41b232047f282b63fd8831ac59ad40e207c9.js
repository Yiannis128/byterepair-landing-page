class ParticleNetwork{constructor(e){this.canvas=e,this.ctx=e.getContext("2d"),this.particles=[],this.mouse={x:0,y:0},this.options={particleCount:80,connectionDistance:150,particleSpeed:.5,particleSize:2,lineOpacity:.3,particleOpacity:.8},this.init()}init(){this.resize(),this.createParticles(),this.bindEvents(),this.animate()}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}createParticles(){this.particles=[];for(let e=0;e<this.options.particleCount;e++)this.particles.push({x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height,vx:(Math.random()-.5)*this.options.particleSpeed,vy:(Math.random()-.5)*this.options.particleSpeed,size:Math.random()*this.options.particleSize+1})}bindEvents(){window.addEventListener("resize",()=>{this.resize(),this.createParticles()}),this.canvas.addEventListener("mousemove",e=>{this.mouse.x=e.clientX,this.mouse.y=e.clientY})}animate(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.particles.forEach(e=>{e.x+=e.vx,e.y+=e.vy,(e.x<=0||e.x>=this.canvas.width)&&(e.vx*=-1),(e.y<=0||e.y>=this.canvas.height)&&(e.vy*=-1);const t=this.mouse.x-e.x,n=this.mouse.y-e.y,s=Math.sqrt(t*t+n*n);s<100&&(e.x-=t*.01,e.y-=n*.01)});const s=document.body.getAttribute("data-theme"),n=s==="light",e=n?[59,130,246]:[102,126,234],t=n?[59,130,246]:[255,255,255];this.ctx.lineWidth=1;for(let t=0;t<this.particles.length;t++)for(let n=t+1;n<this.particles.length;n++){const s=this.particles[t].x-this.particles[n].x,o=this.particles[t].y-this.particles[n].y,i=Math.sqrt(s*s+o*o);if(i<this.options.connectionDistance){const s=(1-i/this.options.connectionDistance)*this.options.lineOpacity;this.ctx.strokeStyle=`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${s})`,this.ctx.beginPath(),this.ctx.moveTo(this.particles[t].x,this.particles[t].y),this.ctx.lineTo(this.particles[n].x,this.particles[n].y),this.ctx.stroke()}}this.ctx.fillStyle=`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${this.options.particleOpacity})`,this.particles.forEach(e=>{this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.size,0,Math.PI*2),this.ctx.fill()}),requestAnimationFrame(()=>this.animate())}}function initThemeToggle(){const e=document.querySelector(".theme-controller"),t=document.body;if(e){e.addEventListener("change",e=>{const n=e.target.checked?"light":"dark";t.setAttribute("data-theme",n),localStorage.setItem("theme",n)});const n=localStorage.getItem("theme")||"dark";t.setAttribute("data-theme",n),e.checked=n==="light"}}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("particleCanvas");new ParticleNetwork(e),initThemeToggle()}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth"})})})